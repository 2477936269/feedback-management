# 反馈管理系统

根据设计文档创建的完整反馈管理系统，包含前台用户反馈提交和后台管理功能。

## 功能特性

### 后台管理功能

#### 1. 反馈管理列表页 (`/feedback/list`)
- **多条件筛选**：支持按状态、类型、时间范围、关键词搜索
- **批量操作**：批量标记为已解决/已拒绝、导出选中数据
- **状态管理**：待处理、处理中、已解决、已拒绝四种状态
- **操作功能**：查看详情、处理反馈
- **分页支持**：支持分页和每页条数调整

#### 2. 反馈处理详情页 (`/feedback/process/:id`)
- **反馈信息展示**：完整显示反馈内容、附件、基础信息
- **状态流转**：支持状态变更（待处理→处理中→已解决/已拒绝）
- **回复功能**：可添加处理回复和内部备注
- **附件管理**：支持附件预览、下载
- **操作日志**：查看反馈处理历史记录

#### 3. 数据分析看板页 (`/feedback/dashboard`)
- **统计卡片**：总反馈数、待处理数、今日新增、平均处理时长
- **图表展示**：
  - 反馈类型分布饼图
  - 状态分布柱状图
  - 近30天反馈趋势折线图
- **筛选功能**：支持时间范围筛选
- **导出功能**：支持导出Excel报表

#### 4. 系统设置页 (`/feedback/settings`)
- **反馈类型配置**：新增、编辑、删除反馈类型
- **上传限制配置**：设置最大文件数和单个文件大小限制
- **API密钥管理**：生成、重置、启用/禁用API密钥
- **外部系统管理**：管理外部系统授权和访问权限

## 技术实现

### 组件复用
- 使用现有的通用组件库，包括：
  - `GenericPanelSearch`：搜索面板
  - `GenericPanelTable`：数据表格
  - `GenericModalForm`：表单模态框
  - `GenericStatisticCards`：统计卡片

### 状态管理
- 使用 React Hooks 进行状态管理
- 模拟数据展示功能，便于开发和测试

### 路由配置
- 集成到现有路由系统中
- 支持嵌套路由和权限控制

## 页面结构

```
/feedback
├── /list          # 反馈列表页
├── /process/:id   # 反馈处理页（动态路由）
├── /dashboard     # 数据分析页
└── /settings      # 系统设置页
```

## 数据模型

### 反馈数据 (FeedbackData)
```typescript
interface FeedbackData {
  id: string;
  feedbackNo: string;        // 用户可见的反馈ID
  type: string;              // 反馈类型
  content: string;           // 反馈内容
  status: 'PENDING' | 'PROCESSING' | 'SOLVED' | 'REJECTED';
  createdAt: string;         // 提交时间
  updatedAt: string;         // 更新时间
  reply?: string;            // 处理回复
  externalSystem?: {         // 外部系统信息
    id: string;
    name: string;
  };
}
```

### 附件数据
```typescript
interface MediaFile {
  id: string;
  fileName: string;
  fileUrl: string;
  fileType: string;
  fileSize: number;
}
```

## 使用说明

### 访问页面
1. 登录系统后，在左侧菜单找到"反馈管理"
2. 点击"反馈列表"进入反馈管理页面
3. 可以查看、筛选、处理反馈

### 处理反馈
1. 在反馈列表中点击"处理"按钮
2. 在反馈处理页面查看详细信息
3. 修改状态并添加回复内容
4. 点击"保存处理结果"完成处理

### 查看统计
1. 点击"数据分析"查看统计信息
2. 可以按时间范围筛选数据
3. 支持导出Excel报表

### 系统配置
1. 点击"系统设置"进行配置
2. 可以管理反馈类型、上传限制、API密钥等

## 开发说明

### 添加新功能
1. 在 `src/pages/feedback-*` 目录下创建新页面
2. 在 `src/routes.tsx` 中添加路由配置
3. 使用现有通用组件保持界面一致性

### 集成后端API
1. 替换模拟数据为真实API调用
2. 在 `src/service/` 目录下添加API服务
3. 更新数据模型以匹配后端接口

### 样式定制
1. 使用 Ant Design 组件库
2. 遵循现有的设计规范
3. 可以添加自定义CSS样式

## 注意事项

1. 当前使用模拟数据，实际使用时需要替换为真实API
2. 文件上传功能需要配置后端接口
3. 权限控制需要根据实际需求调整
4. 建议添加错误处理和加载状态优化

## 后续扩展

1. **前台用户页面**：添加反馈提交和查询页面
2. **邮件通知**：集成邮件发送功能
3. **工作流**：支持自定义处理流程
4. **移动端适配**：优化移动端显示效果
5. **国际化**：支持多语言
